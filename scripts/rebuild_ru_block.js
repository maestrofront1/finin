const fs=require('fs');
const p='features/home/components/CalculatorSection.tsx';
let lines=fs.readFileSync(p,'utf8').split(/\r?\n/);
const make = (arr)=>arr.map(h=>`\\u${h}`).join('');
const RUblock = [
  'const RU = {',
  `\theading: '${make(['0420','0430','0441','0441','0447','0438','0442','0430','0442','044c','0020','0434','043e','0445','043e','0434','043d','043e','0441','0442','044c','0020','0438','043d','0432','0435','0441','0442','0438','0446','0438','0439'])}',`,
  `\tkpiTotal: '${make(['0418','0442','043e','0433','043e','0432','0430','044f','0020','0441','0443','043c','043c','0430','0020','0028','0424','0438','043d','0438','043d','0029'])}',`,
  `\tkpiGain: '${make(['041f','0440','0438','0440','043e','0441','0442','0020','0028','043a','0020','0432','0437','043d','043e','0441','0430','043c','0029'])}',`,
  `\tfinin: '${make(['0424','0438','043d','0438','043d'])}',`,
  `\tmesDot: '${make(['043c','0435','0441','002e'])}',`,
  `\tperAnnum: '${make(['0433','043e','0434','043e','0432','044b','0445'])}',`,
  `\tsafe: '${make(['0411','0435','0437','0020','0440','0438','0441','043a','0430'])}',`,
  `\tbase: '${make(['0411','0430','0437','043e','0432','0430','044f'])}',`,
  `\taggressive: '${make(['0410','0433','0440','0435','0441','0441','0438','0432','043d','0430','044f'])}',`,
  `\tlabels: { fintech:'${make(['0424','0438','043d','0438','043d'])}', stocks:'${make(['0410','043a','0446','0438','0438'])}', bonds:'${make(['041e','0431','043b','0438','0433','0430','0446','0438','0438'])}', deposits:'${make(['0412','043a','043b','0430','0434','044b'])}', savings:'${make(['0421','0431','0435','0440','0435','0436','0435','043d','0438','044f'])}', metals:'${make(['041c','0435','0442','0430','043b','043b','044b'])}' }`,
  '};'
];
// Find RU start and end
const start = lines.findIndex(l=>l.trim().startsWith('const RU = {'));
if(start>=0){
  const end = start + (lines.slice(start).findIndex(l=>l.trim()==='};') || 0);
  // Replace block
  lines.splice(start, end - start + 1, ...RUblock);
  fs.writeFileSync(p, lines.join('\n'), 'utf8');
  console.log('RU block rebuilt');
} else {
  console.log('RU block not found');
}
